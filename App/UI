library(shiny)
library(shinythemes)
library(plotly)
library(quantmod)
library(rugarch)
library(caret)
library(zoo)

# UI Section
ui <- fluidPage(
  theme = shinytheme("darkly"),
  titlePanel("Financial Modeling Dashboard"),
  
  sidebarLayout(
    sidebarPanel(
      textInput("ticker", "Stock Ticker (e.g., AAPL):", value = "AAPL"),
      dateRangeInput("daterange", "Date Range:", 
                     start = Sys.Date() - 365, end = Sys.Date()),
      numericInput("alpha", "GARCH Alpha (α):", value = 0.1, step = 0.01),
      numericInput("beta", "GARCH Beta (β):", value = 0.8, step = 0.01),
      numericInput("k", "Max K for RMSE Plot:", value = 10, min = 1, step = 1),
      actionButton("analyze", "Analyze"),
      br(),
      h3("Outputs:"),
      verbatimTextOutput("modelSummary"),
      textOutput("varResult"),
      textOutput("sharpeRatioResult"),
      textOutput("optionPrice")
    ),
    
    mainPanel(
      tabsetPanel(
        tabPanel("GARCH Forecast", plotlyOutput("garchForecastPlot")),
        tabPanel("Rolling Volatility", plotlyOutput("rollingVolatilityPlot")),
        tabPanel("Stock Price Forecast", plotlyOutput("forecastPlot")),
        tabPanel("RMSE vs K", plotlyOutput("rmsePlot")),
        tabPanel("Volatility Overlay", plotlyOutput("volatilityPlot"))
      )
    )
  )
)


